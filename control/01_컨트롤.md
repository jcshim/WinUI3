# [실습](https://learn.microsoft.com/ko-kr/windows/apps/winui/winui3/xaml-templated-controls-cppwinrt-winui-3)

## 1. Control이 뭐냐?

* **버튼, 텍스트박스, 슬라이더** 같은 게 다 *컨트롤*이에요.
* 화면 위에 올려서 **보여주고, 입력받고, 반응하는 ‘UI 부품’**이라고 생각하면 됩니다.
* 레고 블록처럼, 컨트롤을 조합해서 화면을 만드는 거죠.

---

## 2. 왜 “사용자 지정(Control)”을 만들어야 할까?

예를 들어,

* 빨간 네모 안에 글자가 가운데에 딱 오는 “라벨 박스”를
* 앱의 여러 화면에서 계속 쓰고 싶다면?

**매번 Grid + TextBlock 조합을 복붙**하는 대신,
그걸 **하나의 Control(레고 블록)**로 만들어 두면:

1. **한 번만** 잘 만들어 놓고,
2. XAML에서 `<local:BgLabelControl Label="Hello"/>` 이렇게 **간단히 재사용**하고,
3. 나중에 디자인이 바뀌면 **컨트롤 한 군데만 고치면** 앱 전체가 같이 바뀝니다.

→ **재사용 + 유지보수 + 팀 작업**에 필수라서 “컨트롤을 직접 만드는 법”을 배우는 거예요.

---

## 3. 이 문서가 실제로 하는 일 (초간단 버전)

문서에서는 **BgLabelControl**이라는 “라벨 컨트롤” 하나를 예제로 만듭니다.

1. **빈 WinUI 3 C++/WinRT 앱**을 만든다. (`BgLabelControlApp`)
2. 프로젝트에 **사용자 지정 컨트롤(WinUI)** 항목을 추가해서

   * `BgLabelControl.idl` : 컨트롤의 “설계서”
   * `BgLabelControl.h / .cpp` : C++ 코드
     세 개 파일을 만든다.
3. `BgLabelControl`에 **Label이라는 문자열 속성**(DependencyProperty)을 만든다.
4. `Themes/Generic.xaml`에 기본 모양을 정한다:

   ```xaml
   <Style TargetType="local:BgLabelControl">
       <Setter Property="Template">
           <Setter.Value>
               <ControlTemplate TargetType="local:BgLabelControl">
                   <Grid Width="100" Height="100" Background="{TemplateBinding Background}">
                       <TextBlock Text="{TemplateBinding Label}"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                   </Grid>
               </ControlTemplate>
           </Setter.Value>
       </Setter>
   </Style>
   ```

   * 배경색: Control의 `Background`에 바인딩
   * 글자: 우리가 만든 `Label` 속성에 바인딩
5. `MainWindow.xaml`에서 이렇게 써서 사용:

   ```xaml
   <local:BgLabelControl Background="Red" Label="Hello, World!"/>
   ```

→ 결과:
**“빨간 네모 안에 ‘Hello, World!’ 글자가 가운데에 뜨는 레이블 컨트롤”** 하나를
**<local:BgLabelControl …> 한 줄**로 쓸 수 있게 된 것.

---

> “Control은 화면에 쓰는 UI 레고 블록이고,
> 이 문서는 ‘배경색 + 글자’를 가진 내 레고 블록(BgLabelControl)을
> C++/WinRT + XAML로 새로 만드는 연습이다.”
